/* app/globals.css */

/* 0. Tailwind v4 core */
@import "tailwindcss";

/* 1. Plugins (Tailkit style) */
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';

/* 2. Custom variants */
/* Class-based dark mode: .dark on <html> or <body> */
@custom-variant dark (&:where(.dark, .dark *));
/* Enable hover on mobile */
@custom-variant hover (&:hover);

/* 3. Semantic design tokens (light + dark)
   ------------------------------------------------
   We use ONLY --color-* for color semantics.
   Later, these can be overridden per tenant/theme from the DB.
*/

/* Light mode defaults */
:root {
  /* Fonts */
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;

  /* Surfaces & text (light) */
  --color-bg: #f9fafb;          /* gray-50 */
  --color-bg-muted: #f3f4f6;    /* gray-100 */
  --color-bg-elevated: #ffffff; /* pure white card */

  --color-fg: #111827;          /* gray-900 */
  --color-fg-muted: #6b7280;    /* gray-500 */
  --color-fg-subtle: #9ca3af;   /* gray-400 */

  /* Brand / accents (light) */
  --color-primary: #2563eb;             /* blue-600 */
  --color-primary-soft: color-mix(in oklch, #2563eb 12%, transparent);
  --color-primary-foreground: #f9fafb;  /* gray-50 */

  --color-secondary: #1d4ed8;             /* blue-700 */
  --color-secondary-soft: color-mix(in oklch, #1d4ed8 10%, transparent);
  --color-secondary-foreground: #f9fafb;

  /* Borders / rings */
  --color-border: #e5e7eb;        /* gray-200 */
  --color-border-subtle: #f3f4f6; /* gray-100 */
  --color-ring: #2563eb;          /* blue-600 */

  /* Status colors */
  --color-success: #16a34a;             /* green-600 */
  --color-success-soft: color-mix(in oklch, #16a34a 10%, transparent);
  --color-success-foreground: #f9fafb;

  --color-warning: #f59e0b;             /* amber-500 */
  --color-warning-soft: color-mix(in oklch, #f59e0b 12%, transparent);
  --color-warning-foreground: #111827;

  --color-danger: #dc2626;              /* red-600 */
  --color-danger-soft: color-mix(in oklch, #dc2626 10%, transparent);
  --color-danger-foreground: #f9fafb;

  /* Radii */
  --radius-xs: 0.25rem;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;   /* ~rounded-md */
  --radius-lg: 0.5rem;   /* Tailkit commonly uses rounded-lg */
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.10), 0 1px 2px -1px rgb(0 0 0 / 0.10);
  --shadow-md: 0 6px 16px 0 rgb(15 23 42 / 0.08);
  --shadow-lg: 0 14px 32px 0 rgb(15 23 42 / 0.16);

  /* Layout tokens */
  --sidebar-width: 16rem;
  --topbar-height: 3.5rem;
}

/* Dark mode overrides
   Activated by:
   - <html data-mode="dark"> OR
   - <html class="dark">
*/
:root[data-mode="dark"],
:root.dark {
  color-scheme: dark;

  --color-bg: #020617;          /* slate-950-like */
  --color-bg-muted: #020617;
  --color-bg-elevated: #020617;

  --color-fg: #e5e7eb;          /* gray-200 */
  --color-fg-muted: #9ca3af;
  --color-fg-subtle: #6b7280;

  --color-primary: #60a5fa;             /* blue-400 */
  --color-primary-soft: color-mix(in oklch, #60a5fa 18%, transparent);
  --color-primary-foreground: #020617;

  --color-secondary: #38bdf8;           /* sky-400 */
  --color-secondary-soft: color-mix(in oklch, #38bdf8 18%, transparent);
  --color-secondary-foreground: #020617;

  --color-border: #1f2937;        /* gray-800 */
  --color-border-subtle: #020617;
  --color-ring: #60a5fa;

  --color-success: #22c55e;             /* green-500 */
  --color-success-soft: color-mix(in oklch, #22c55e 18%, transparent);
  --color-success-foreground: #020617;

  --color-warning: #fbbf24;             /* amber-400 */
  --color-warning-soft: color-mix(in oklch, #fbbf24 20%, transparent);
  --color-warning-foreground: #020617;

  --color-danger: #f87171;              /* red-400 */
  --color-danger-soft: color-mix(in oklch, #f87171 18%, transparent);
  --color-danger-foreground: #020617;

  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.6);
  --shadow-sm: 0 1px 3px 0 rgb(15 23 42 / 0.9), 0 1px 2px -1px rgb(15 23 42 / 0.9);
  --shadow-md: 0 10px 24px 0 rgb(15 23 42 / 0.9);
  --shadow-lg: 0 18px 40px 0 rgb(15 23 42 / 1);
}

/* 4. Tailwind v4 theme tokens (via @theme inline)
   ------------------------------------------------
   This exposes your tokens to Tailwind utilities like:
   bg-bg, bg-primary, text-fg, border-border, etc.
*/
@theme inline {
  /* Fonts */
  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);

  /* Background / surfaces / text */
  --color-bg: var(--color-bg);
  --color-bg-muted: var(--color-bg-muted);
  --color-bg-elevated: var(--color-bg-elevated);

  --color-fg: var(--color-fg);
  --color-fg-muted: var(--color-fg-muted);
  --color-fg-subtle: var(--color-fg-subtle);

  /* Brand + accents */
  --color-primary: var(--color-primary);
  --color-primary-soft: var(--color-primary-soft);
  --color-primary-foreground: var(--color-primary-foreground);

  --color-secondary: var(--color-secondary);
  --color-secondary-soft: var(--color-secondary-soft);
  --color-secondary-foreground: var(--color-secondary-foreground);

  /* Border / ring */
  --color-border: var(--color-border);
  --color-border-subtle: var(--color-border-subtle);
  --color-ring: var(--color-ring);

  /* Status colors */
  --color-success: var(--color-success);
  --color-success-soft: var(--color-success-soft);
  --color-success-foreground: var(--color-success-foreground);

  --color-warning: var(--color-warning);
  --color-warning-soft: var(--color-warning-soft);
  --color-warning-foreground: var(--color-warning-foreground);

  --color-danger: var(--color-danger);
  --color-danger-soft: var(--color-danger-soft);
  --color-danger-foreground: var(--color-danger-foreground);

  /* Radii */
  --radius-xs: var(--radius-xs);
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  --radius-2xl: var(--radius-2xl);
  --radius-full: var(--radius-full);

  /* Shadows */
  --shadow-xs: var(--shadow-xs);
  --shadow-sm: var(--shadow-sm);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);

  /* Layout */
  --sidebar-width: var(--sidebar-width);
  --topbar-height: var(--topbar-height);

  /* Optional: keep some Tailkit-ish values (spacing, keyframes) */
  --spacing-8xl: 90rem;
  --spacing-9xl: 105rem;
  --spacing-10xl: 120rem;

  @keyframes spin-slow {
    100% {
      transform: rotate(-360deg);
    }
  }

  --animate-spin-slow: spin-slow 8s linear infinite;
}

/* 5. Base styles */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  -webkit-text-size-adjust: 100%;
  text-rendering: optimizeLegibility;
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: var(--font-sans);
  background-color: var(--color-bg);
  color: var(--color-fg);
}

/* Text selection */
::selection {
  background-color: var(--color-primary-soft);
}

/* Basic link style */
a {
  color: var(--color-primary);
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

/* 6. Optional token-based helpers for early components */
.app-card {
  background-color: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xs);
}

.app-button-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.375rem;
  padding-inline: 0.875rem;
  padding-block: 0.375rem;
  border-radius: var(--radius-lg);
  background-color: var(--color-primary);
  color: var(--color-primary-foreground);
  font-size: 0.875rem;
  font-weight: 500;
  box-shadow: var(--shadow-xs);
  transition: transform 120ms ease, box-shadow 120ms ease, opacity 80ms ease;
}

.app-button-primary:hover {
  opacity: 0.96;
  box-shadow: var(--shadow-sm);
}

.app-button-primary:active {
  transform: translateY(1px) scale(0.99);
  box-shadow: var(--shadow-xs);
}
