<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI-BOS Nexus-Lynx | The Rhythm of Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

    <style>
      :root {
          --void-deep: #0A0A0B;
          --void-mid: #161618;
          --void-elevated: #1C1917;
          --ember: #D4A373;
          --ember-glow: rgba(212, 163, 115, 0.4);
          --slate: #64748B;
          --text-primary: #F2F0E9;
          --text-muted: #A8A29E;
          --cyan: #00E5FF;
          --cyan-glow: rgba(0, 229, 255, 0.3);
      }

      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      html {
          scroll-behavior: smooth;
      }

      body {
          background: var(--void-deep);
          color: var(--text-primary);
          font-family: 'Inter', sans-serif;
          overflow-x: hidden;
          font-size: 14px;
          line-height: 1.7;
      }

      /* =========================================
         ACT I: THE NOISE
         ========================================= */

      .act-noise {
          position: relative;
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          background: radial-gradient(circle at 30% 50%, rgba(255, 0, 0, 0.1) 0%, transparent 50%),
                      radial-gradient(circle at 70% 50%, rgba(255, 100, 0, 0.1) 0%, transparent 50%),
                      var(--void-deep);
      }

      .noise-particles {
          position: absolute;
          inset: 0;
          pointer-events: none;
          opacity: 0.6;
      }

      .noise-particle {
          position: absolute;
          width: 2px;
          height: 2px;
          background: rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          animation: float 8s infinite ease-in-out;
      }

      @keyframes float {
          0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.3; }
          50% { transform: translate(100px, -100px) scale(1.5); opacity: 0.8; }
      }

       /* =========================================
          ACT II: THE ANCHOR - CONTROL PLANE
          ========================================= */

       .act-anchor {
           position: relative;
           min-height: 100vh;
           display: flex;
           align-items: center;
           justify-content: center;
           background: var(--void-deep);
           overflow: hidden;
       }

       .control-plane {
           position: absolute;
           top: 10%;
           left: 0;
           right: 0;
           height: 80px;
           background: linear-gradient(90deg, transparent, rgba(212, 163, 115, 0.1), transparent);
           border-top: 1px solid rgba(212, 163, 115, 0.3);
           border-bottom: 1px solid rgba(212, 163, 115, 0.3);
           display: flex;
           align-items: center;
           justify-content: center;
           z-index: 10;
       }

       .control-plane-label {
           font-family: 'JetBrains Mono', monospace;
           font-size: 12px;
           color: var(--ember);
           text-transform: uppercase;
           letter-spacing: 4px;
           animation: pulse-glow 2s ease-in-out infinite;
       }

       @keyframes pulse-glow {
           0%, 100% { opacity: 0.6; text-shadow: 0 0 10px var(--ember-glow); }
           50% { opacity: 1; text-shadow: 0 0 20px var(--ember-glow); }
       }

       /* Living String Canvas (Interactive NEXUS) */
       .living-string-canvas {
           position: absolute;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           pointer-events: none;
           z-index: 1;
           opacity: 0.8;
       }

       .mcp-nodes {
           position: absolute;
           left: 50%;
           top: 0;
           width: 100%;
           height: 100%;
           transform: translateX(-50%);
           z-index: 2;
       }

       .mcp-node {
           position: absolute;
           left: 50%;
           width: 12px;
           height: 12px;
           background: var(--ember);
           border-radius: 50%;
           transform: translateX(-50%);
           box-shadow: 0 0 15px var(--ember-glow);
           animation: node-pulse 2s ease-in-out infinite;
       }

       @keyframes node-pulse {
           0%, 100% {
               transform: translateX(-50%) scale(1);
               box-shadow: 0 0 15px var(--ember-glow);
           }
           50% {
               transform: translateX(-50%) scale(1.3);
               box-shadow: 0 0 25px var(--ember-glow);
           }
       }

      /* =========================================
         ACT III: THE WORKFLOW - NEXUS-LYNX
         ========================================= */

      .act-workflow {
          position: relative;
          min-height: 100vh;
          background: var(--void-deep);
          padding: 120px 40px;
          overflow: hidden;
      }

      .workflow-container {
          max-width: 1600px;
          margin: 0 auto;
          position: relative;
          min-height: 80vh;
      }

      /* Control Plane Header */
      .workflow-control-plane {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 60px;
          background: rgba(22, 22, 24, 0.8);
          backdrop-filter: blur(12px);
          border: 1px solid rgba(212, 163, 115, 0.2);
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 0 24px;
          z-index: 100;
      }

      .control-plane-title {
          display: flex;
          align-items: center;
          gap: 12px;
      }

      .control-plane-title h3 {
          font-family: 'JetBrains Mono', monospace;
          font-size: 14px;
          color: var(--ember);
          text-transform: uppercase;
          letter-spacing: 2px;
      }

      .lynx-status {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 12px;
          color: var(--text-muted);
      }

      .lynx-status-dot {
          width: 8px;
          height: 8px;
          border-radius: 50%;
          background: var(--cyan);
          box-shadow: 0 0 10px var(--cyan-glow);
          animation: pulse 2s ease-in-out infinite;
      }

      @keyframes pulse {
          0%, 100% { opacity: 1; transform: scale(1); }
          50% { opacity: 0.7; transform: scale(1.2); }
      }

      /* Workflow Canvas */
      .workflow-canvas {
          position: relative;
          margin-top: 80px;
          min-height: 600px;
          background: rgba(10, 10, 11, 0.5);
          border: 1px solid rgba(255, 255, 255, 0.05);
          border-radius: 12px;
          overflow: visible;
      }

      /* Agent Nodes */
      .agent-node {
          position: absolute;
          width: 200px;
          min-height: 120px;
          background: rgba(22, 22, 24, 0.9);
          backdrop-filter: blur(12px);
          border: 2px solid rgba(212, 163, 115, 0.3);
          border-radius: 12px;
          padding: 16px;
          cursor: pointer;
          transition: all 0.3s ease;
          z-index: 10;
      }

      .agent-node:hover {
          transform: translateY(-4px);
          border-color: var(--ember);
          box-shadow: 0 10px 30px rgba(212, 163, 115, 0.3);
      }

      .agent-node.active {
          border-color: var(--cyan);
          box-shadow: 0 0 20px var(--cyan-glow);
      }

      .agent-node-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 12px;
      }

      .agent-node-icon {
          width: 32px;
          height: 32px;
          border-radius: 8px;
          background: rgba(212, 163, 115, 0.2);
          display: flex;
          align-items: center;
          justify-center;
          color: var(--ember);
      }

      .agent-node-title {
          font-size: 13px;
          font-weight: 600;
          color: var(--text-primary);
          flex: 1;
          margin-left: 12px;
      }

      .agent-node-type {
          font-size: 10px;
          font-family: 'JetBrains Mono', monospace;
          color: var(--text-muted);
          background: rgba(255, 255, 255, 0.05);
          padding: 2px 6px;
          border-radius: 4px;
      }

      .agent-node-body {
          font-size: 12px;
          color: var(--text-muted);
          line-height: 1.6;
      }

      .agent-node-probability {
          margin-top: 8px;
          font-size: 11px;
          font-family: 'JetBrains Mono', monospace;
          color: var(--ember);
      }

      /* Connection Lines (NEXUS) */
      .nexus-connection {
          position: absolute;
          pointer-events: none;
          z-index: 1;
      }

      .nexus-line {
          stroke: var(--ember);
          stroke-width: 2;
          fill: none;
          filter: drop-shadow(0 0 4px var(--ember-glow));
          stroke-dasharray: 5, 5;
          animation: dash-flow 2s linear infinite;
      }

      @keyframes dash-flow {
          0% { stroke-dashoffset: 0; }
          100% { stroke-dashoffset: 20; }
      }

      .nexus-line.active {
          stroke: var(--cyan);
          filter: drop-shadow(0 0 8px var(--cyan-glow));
          stroke-dasharray: none;
          stroke-width: 3;
      }

      /* Data Flow Particles */
      .data-particle {
          position: absolute;
          width: 6px;
          height: 6px;
          background: var(--cyan);
          border-radius: 50%;
          box-shadow: 0 0 10px var(--cyan-glow);
          z-index: 20;
          pointer-events: none;
      }

      /* Decision Points */
      .decision-node {
          position: absolute;
          width: 60px;
          height: 60px;
          border: 2px solid var(--ember);
          border-radius: 50%;
          background: rgba(22, 22, 24, 0.9);
          display: flex;
          align-items: center;
          justify-center;
          z-index: 15;
          cursor: pointer;
          transition: all 0.3s ease;
      }

      .decision-node:hover {
          transform: scale(1.1);
          box-shadow: 0 0 20px var(--ember-glow);
      }

      .decision-node.active {
          border-color: var(--cyan);
          box-shadow: 0 0 25px var(--cyan-glow);
      }

      /* LYNX Intelligence Layer */
      .lynx-layer {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          pointer-events: none;
          opacity: 0.1;
          background: radial-gradient(circle at 50% 50%, rgba(0, 229, 255, 0.2), transparent 70%);
          animation: lynx-pulse 4s ease-in-out infinite;
      }

      @keyframes lynx-pulse {
          0%, 100% { opacity: 0.1; }
          50% { opacity: 0.2; }
      }

      /* =========================================
         ACT IV: THE LIFE WORKSPACE
         ========================================= */

      .act-workspace {
          position: relative;
          min-height: 100vh;
          background: var(--void-deep);
          padding: 80px 40px;
      }

      .workspace-dashboard {
          max-width: 1400px;
          margin: 0 auto;
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 24px;
      }

      .workspace-card {
          background: rgba(22, 22, 24, 0.6);
          backdrop-filter: blur(12px);
          border: 1px solid rgba(255, 255, 255, 0.05);
          border-radius: 12px;
          padding: 32px;
          transition: all 0.4s ease;
          position: relative;
          overflow: hidden;
      }

      .workspace-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 2px;
          background: var(--ember);
          transform: scaleX(0);
          transition: transform 0.4s ease;
      }

      .workspace-card:hover::before {
          transform: scaleX(1);
      }

      .workspace-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 20px 40px rgba(212, 163, 115, 0.1);
          border-color: rgba(212, 163, 115, 0.3);
      }

      /* =========================================
         TYPOGRAPHY & UTILITIES
         ========================================= */

      .text-ember { color: var(--ember); }
      .text-muted { color: var(--text-muted); }
      .text-cyan { color: var(--cyan); }

      .glass-panel {
          background: rgba(22, 22, 24, 0.6);
          backdrop-filter: blur(12px);
          border: 1px solid rgba(255, 255, 255, 0.05);
      }

      .glow-ember {
          box-shadow: 0 0 20px var(--ember-glow);
      }

      .fade-in {
          opacity: 0;
          transform: translateY(30px);
          transition: all 1s ease;
      }

      .fade-in.visible {
          opacity: 1;
          transform: translateY(0);
      }

      .scroll-progress {
          position: fixed;
          top: 0;
          left: 0;
          width: 0%;
          height: 2px;
          background: var(--ember);
          z-index: 9999;
          transition: width 0.1s ease;
      }
    </style>
  </head>
  <body>
    <!-- Scroll Progress -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- ACT I: THE NOISE -->
    <section class="act-noise" id="act-noise">
      <div class="noise-particles" id="noiseParticles"></div>
      <div class="text-center z-10 px-8 max-w-4xl">
        <h1 class="text-6xl md:text-8xl font-light mb-6 fade-in">
          Life is <span class="text-ember">messy</span>.
        </h1>
        <p
          class="text-xl md:text-2xl text-muted mb-4 fade-in"
          style="transition-delay: 0.2s"
        >
          The world is <span class="text-ember">loud</span>.
        </p>
        <p
          class="text-lg md:text-xl text-muted fade-in"
          style="transition-delay: 0.4s"
        >
          And our tools... they just add to the
          <span class="text-ember">noise</span>.
        </p>
        <p
          class="text-base md:text-lg text-muted mt-8 fade-in"
          style="transition-delay: 0.6s"
        >
          Ungoverned automation. Black boxes. Information bloat.
        </p>
        <p
          class="text-base md:text-lg text-muted fade-in"
          style="transition-delay: 0.8s"
        >
          We built AI to help us, but somewhere along the way...
        </p>
        <p
          class="text-2xl md:text-3xl text-ember mt-8 fade-in"
          style="transition-delay: 1s"
        >
          we lost the <span class="underline">string</span>.
        </p>
      </div>
    </section>

    <!-- ACT II: THE ANCHOR - CONTROL PLANE -->
    <section class="act-anchor" id="act-anchor">
      <div class="control-plane">
        <div class="control-plane-label">AI-BOS Control Plane</div>
      </div>
      <canvas class="living-string-canvas" id="livingStringCanvas"></canvas>
      <div class="mcp-nodes" id="mcpNodes"></div>
      <div class="text-center z-10 px-8 max-w-4xl">
        <h2 class="text-5xl md:text-7xl font-light mb-6 fade-in">
          <span class="text-ember">Stop.</span> Breathe.
        </h2>
        <p
          class="text-xl md:text-2xl text-muted mb-6 fade-in"
          style="transition-delay: 0.2s"
        >
          Intelligence requires <span class="text-ember">structure</span>.
        </p>
        <p
          class="text-lg md:text-xl text-muted mb-4 fade-in"
          style="transition-delay: 0.4s"
        >
          To fly, a kite needs a <span class="text-ember">string</span>.
        </p>
        <p
          class="text-lg md:text-xl text-muted mb-4 fade-in"
          style="transition-delay: 0.6s"
        >
          To work, AI needs a <span class="text-ember">rhythm</span>.
        </p>
        <p
          class="text-3xl md:text-4xl text-ember mt-12 mb-6 fade-in"
          style="transition-delay: 0.8s"
        >
          Welcome to <span class="font-medium">AI-BOS</span>.
        </p>
        <p
          class="text-base md:text-lg text-muted max-w-2xl mx-auto fade-in"
          style="transition-delay: 1s"
        >
          Here, automation isn't magic; it is fully compliant. It is governed by
          the Model Context Protocol (MCP). Every action is chained. Every
          decision is audited. Nothing happens in the dark.
        </p>
      </div>
    </section>

    <!-- ACT III: THE WORKFLOW - NEXUS-LYNX -->
    <section class="act-workflow" id="act-workflow">
      <div class="workflow-container">
        <!-- Control Plane Header -->
        <div class="workflow-control-plane fade-in">
          <div class="control-plane-title">
            <i data-lucide="cpu" class="w-5 h-5 text-ember"></i>
            <h3>AI-BOS Control Plane</h3>
          </div>
          <div class="lynx-status">
            <div class="lynx-status-dot"></div>
            <span>LYNX: ACTIVE</span>
            <span class="text-muted ml-4">Ollama → OpenAI</span>
          </div>
        </div>

        <!-- Workflow Canvas -->
        <div class="workflow-canvas" id="workflowCanvas">
          <div class="lynx-layer"></div>

          <!-- Agent Nodes -->
          <div class="agent-node" style="top: 100px; left: 50px" data-node="1">
            <div class="agent-node-header">
              <div class="agent-node-icon">
                <i data-lucide="user" class="w-4 h-4"></i>
              </div>
              <div class="agent-node-title">User Input</div>
              <div class="agent-node-type">START</div>
            </div>
            <div class="agent-node-body">
              Receives user request and validates intent
            </div>
            <div class="agent-node-probability">PROB: 100%</div>
          </div>

          <div class="agent-node" style="top: 100px; left: 350px" data-node="2">
            <div class="agent-node-header">
              <div class="agent-node-icon">
                <i data-lucide="brain" class="w-4 h-4"></i>
              </div>
              <div class="agent-node-title">LYNX Analysis</div>
              <div class="agent-node-type">LLM</div>
            </div>
            <div class="agent-node-body">
              Multi-provider LLM analyzes request and suggests actions
            </div>
            <div class="agent-node-probability">PROB: 87%</div>
          </div>

          <div
            class="decision-node"
            style="top: 140px; left: 600px"
            data-node="decision1"
          >
            <i data-lucide="git-branch" class="w-6 h-6 text-ember"></i>
          </div>

          <div class="agent-node" style="top: 100px; left: 750px" data-node="3">
            <div class="agent-node-header">
              <div class="agent-node-icon">
                <i data-lucide="shield-check" class="w-4 h-4"></i>
              </div>
              <div class="agent-node-title">MCP Validation</div>
              <div class="agent-node-type">GOV</div>
            </div>
            <div class="agent-node-body">
              Validates against MCP manifest and policies
            </div>
            <div class="agent-node-probability">PROB: 95%</div>
          </div>

          <div class="agent-node" style="top: 300px; left: 350px" data-node="4">
            <div class="agent-node-header">
              <div class="agent-node-icon">
                <i data-lucide="zap" class="w-4 h-4"></i>
              </div>
              <div class="agent-node-title">Action Execution</div>
              <div class="agent-node-type">EXEC</div>
            </div>
            <div class="agent-node-body">
              Executes approved action in sandboxed environment
            </div>
            <div class="agent-node-probability">PROB: 82%</div>
          </div>

          <div class="agent-node" style="top: 300px; left: 750px" data-node="5">
            <div class="agent-node-header">
              <div class="agent-node-icon">
                <i data-lucide="file-check" class="w-4 h-4"></i>
              </div>
              <div class="agent-node-title">Audit Log</div>
              <div class="agent-node-type">AUDIT</div>
            </div>
            <div class="agent-node-body">
              Immutable audit trail with hash chain
            </div>
            <div class="agent-node-probability">PROB: 100%</div>
          </div>

          <div class="agent-node" style="top: 500px; left: 550px" data-node="6">
            <div class="agent-node-header">
              <div class="agent-node-icon">
                <i data-lucide="check-circle" class="w-4 h-4"></i>
              </div>
              <div class="agent-node-title">Response</div>
              <div class="agent-node-type">END</div>
            </div>
            <div class="agent-node-body">Returns governed result to user</div>
            <div class="agent-node-probability">PROB: 98%</div>
          </div>

          <!-- NEXUS Connection Lines (SVG) -->
          <svg
            class="nexus-connection"
            style="
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              pointer-events: none;
            "
          >
            <!-- User Input → LYNX -->
            <path id="line1" class="nexus-line" d="M 150 160 L 350 160" />
            <!-- LYNX → Decision -->
            <path id="line2" class="nexus-line" d="M 450 160 L 600 170" />
            <!-- Decision → MCP Validation -->
            <path id="line3" class="nexus-line" d="M 630 170 L 750 160" />
            <!-- Decision → Action Execution -->
            <path id="line4" class="nexus-line" d="M 630 200 L 450 360" />
            <!-- Action Execution → Audit Log -->
            <path id="line5" class="nexus-line" d="M 550 360 L 750 360" />
            <!-- MCP Validation → Response -->
            <path id="line6" class="nexus-line" d="M 850 220 L 650 500" />
            <!-- Audit Log → Response -->
            <path id="line7" class="nexus-line" d="M 850 420 L 650 500" />
          </svg>
        </div>
      </div>

      <div class="text-center mt-16 px-8 max-w-4xl mx-auto fade-in">
        <h2 class="text-4xl md:text-6xl font-light mb-6">
          <span class="text-ember">NEXUS</span> connects.
        </h2>
        <p class="text-xl md:text-2xl text-muted mb-4">
          <span class="text-cyan">LYNX</span> powers.
        </p>
        <p class="text-lg md:text-xl text-muted max-w-2xl mx-auto">
          AI-BOS orchestrates. Every agent conversation flow is governed, every
          decision is audited, every action is chained through the Model Context
          Protocol.
        </p>
      </div>
    </section>

    <!-- ACT IV: THE LIFE WORKSPACE -->
    <section class="act-workspace" id="act-workspace">
      <div class="text-center mb-16 fade-in">
        <h2 class="text-5xl md:text-7xl font-light mb-6">
          When the <span class="text-ember">noise</span> stops,
        </h2>
        <p class="text-3xl md:text-4xl text-muted mb-4">
          work becomes <span class="text-ember">clear</span>.
        </p>
        <p class="text-xl md:text-2xl text-muted mb-8">
          When the chaos is governed, work becomes
          <span class="text-ember">fun</span>.
        </p>
        <p class="text-lg md:text-xl text-muted max-w-2xl mx-auto">
          Your life may be messy. Your workspace shouldn't be.
        </p>
      </div>

      <div class="workspace-dashboard">
        <div class="workspace-card fade-in">
          <div class="flex items-center gap-3 mb-4">
            <i data-lucide="zap" class="w-6 h-6 text-ember"></i>
            <h3 class="text-xl font-medium">Predictive Intelligence</h3>
          </div>
          <p class="text-muted mb-4">
            LYNX predicts outcomes before they happen. Every suggestion is
            backed by probability, not guesswork.
          </p>
          <div class="text-sm font-mono text-ember">PROB: 87%</div>
        </div>

        <div class="workspace-card fade-in" style="transition-delay: 0.1s">
          <div class="flex items-center gap-3 mb-4">
            <i data-lucide="shield-check" class="w-6 h-6 text-ember"></i>
            <h3 class="text-xl font-medium">MCP Governance</h3>
          </div>
          <p class="text-muted mb-4">
            NEXUS threads connect every action. Every decision is audited.
            Nothing happens in the dark. Full compliance, zero drift.
          </p>
          <div class="text-sm font-mono text-ember">HASH: #8X92...99</div>
        </div>

        <div class="workspace-card fade-in" style="transition-delay: 0.2s">
          <div class="flex items-center gap-3 mb-4">
            <i data-lucide="git-branch" class="w-6 h-6 text-ember"></i>
            <h3 class="text-xl font-medium">Agent Orchestration</h3>
          </div>
          <p class="text-muted mb-4">
            Complex agent conversation flows. Blend AI, logic, and deterministic
            action. You decide the flow for every scenario.
          </p>
          <div class="text-sm font-mono text-ember">MCP: ACTIVE</div>
        </div>
      </div>

      <div class="text-center mt-20 fade-in">
        <h2 class="text-4xl md:text-6xl font-light mb-6">
          <span class="text-ember">AI-BOS</span>
          <span class="text-cyan">NEXUS</span>-<span class="text-cyan"
            >LYNX</span
          >
        </h2>
        <p class="text-2xl md:text-3xl text-muted mb-8">
          The <span class="text-ember">Rhythm</span> of Intelligence
        </p>
        <button
          class="glass-panel px-8 py-4 rounded-lg text-lg font-medium text-ember border border-ember/30 hover:bg-ember/10 transition-all glow-ember"
        >
          Start the Flow
        </button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="text-center py-12 text-muted text-sm">
      <p>AI-BOS Nexus-Lynx • MCP-Governed Intelligence Platform</p>
      <p class="mt-2">The day after tomorrow, is a good day.</p>
    </footer>

    <script>
      // Initialize Lucide icons
      lucide.createIcons();

      // Create noise particles
      function createNoiseParticles() {
        const container = document.getElementById("noiseParticles");
        for (let i = 0; i < 50; i++) {
          const particle = document.createElement("div");
          particle.className = "noise-particle";
          particle.style.left = Math.random() * 100 + "%";
          particle.style.top = Math.random() * 100 + "%";
          particle.style.animationDelay = Math.random() * 8 + "s";
          particle.style.animationDuration = Math.random() * 4 + 4 + "s";
          container.appendChild(particle);
        }
      }

      // Living String Engine (Interactive NEXUS)
      function initLivingString() {
        const canvas = document.getElementById("livingStringCanvas");
        if (!canvas) return;

        const ctx = canvas.getContext("2d");
        let animationFrameId;
        let time = 0;

        let width = window.innerWidth;
        let height = window.innerHeight;

        const resize = () => {
          width = window.innerWidth;
          height = window.innerHeight;
          canvas.width = width;
          canvas.height = height;
        };
        window.addEventListener("resize", resize);
        resize();

        let mouse = { x: -1000, y: -1000 };
        const handleMove = (e) => {
          mouse.x = e.clientX;
          mouse.y = e.clientY;
        };
        window.addEventListener("mousemove", handleMove);

        const animate = () => {
          ctx.clearRect(0, 0, width, height);
          time += 0.015; // Natural flow speed

          // Draw the NEXUS String
          ctx.beginPath();

          // Gradient Stroke (Ember color)
          const gradient = ctx.createLinearGradient(0, 0, width, 0);
          gradient.addColorStop(0, "rgba(212, 163, 115, 0)");
          gradient.addColorStop(0.5, "rgba(212, 163, 115, 0.6)");
          gradient.addColorStop(1, "rgba(212, 163, 115, 0)");

          ctx.strokeStyle = gradient;
          ctx.lineWidth = 2;
          ctx.shadowBlur = 15;
          ctx.shadowColor = "rgba(212, 163, 115, 0.5)";

          // Wave Math with Mouse Interaction
          for (let x = 0; x < width; x += 5) {
            // Base Sine Wave (vertical center)
            let y = height / 2 + Math.sin(x * 0.005 + time) * 40;

            // Mouse Interaction (The "Pull" - Human Influence)
            const dist = Math.abs(x - mouse.x);
            const range = 300;

            if (dist < range) {
              const force = (range - dist) / range;
              // Pull the line towards the mouse (dampened for smoothness)
              y += (mouse.y - y) * force * 0.4;
            }

            if (x === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          }

          ctx.stroke();
          ctx.shadowBlur = 0;

          // Draw MCP Nodes along the string
          const nodePositions = [0.2, 0.35, 0.5, 0.65, 0.8];
          nodePositions.forEach((pos) => {
            const nx = width * pos;
            let ny = height / 2 + Math.sin(nx * 0.005 + time) * 40;

            // Apply mouse physics to nodes
            const dist = Math.abs(nx - mouse.x);
            if (dist < 300) {
              const force = (300 - dist) / 300;
              ny += (mouse.y - ny) * force * 0.4;
            }

            ctx.beginPath();
            ctx.arc(nx, ny, 4, 0, Math.PI * 2);
            ctx.fillStyle = "#D4A373";
            ctx.shadowBlur = 10;
            ctx.shadowColor = "#D4A373";
            ctx.fill();
            ctx.shadowBlur = 0;
          });

          animationFrameId = requestAnimationFrame(animate);
        };

        animate();

        return () => {
          window.removeEventListener("resize", resize);
          window.removeEventListener("mousemove", handleMove);
          cancelAnimationFrame(animationFrameId);
        };
      }

      // Create MCP nodes (fallback static nodes if canvas fails)
      function createMCPNodes() {
        const container = document.getElementById("mcpNodes");
        if (!container) return;

        const nodePositions = [15, 30, 45, 60, 75];
        nodePositions.forEach((pos, index) => {
          const node = document.createElement("div");
          node.className = "mcp-node";
          node.style.top = pos + "%";
          node.style.animationDelay = index * 0.4 + "s";
          container.appendChild(node);
        });
      }

      // Workflow Animation System
      let workflowAnimation = null;
      let currentStep = 0;
      const workflowSteps = [
        { node: "1", line: "line1", delay: 0 },
        { node: "2", line: "line2", delay: 1000 },
        { node: "decision1", line: "line3", delay: 2000 },
        { node: "3", line: "line4", delay: 3000 },
        { node: "4", line: "line5", delay: 4000 },
        { node: "5", line: "line6", delay: 5000 },
        { node: "6", line: "line7", delay: 6000 },
      ];

      function animateWorkflow() {
        if (workflowAnimation) return;

        workflowAnimation = setInterval(() => {
          // Reset all
          document
            .querySelectorAll(".agent-node, .decision-node")
            .forEach((n) => {
              n.classList.remove("active");
            });
          document.querySelectorAll(".nexus-line").forEach((l) => {
            l.classList.remove("active");
          });

          // Activate current step
          const step = workflowSteps[currentStep];
          if (step) {
            const node = document.querySelector(`[data-node="${step.node}"]`);
            const line = document.getElementById(step.line);
            if (node) node.classList.add("active");
            if (line) line.classList.add("active");

            // Create data particle
            if (line) {
              createDataParticle(line);
            }
          }

          currentStep = (currentStep + 1) % workflowSteps.length;
        }, 2000);
      }

      function createDataParticle(pathElement) {
        const path = pathElement;
        const pathLength = path.getTotalLength();
        const particle = document.createElement("div");
        particle.className = "data-particle";

        const canvas = document.getElementById("workflowCanvas");
        canvas.appendChild(particle);

        let progress = 0;
        const animate = () => {
          progress += 0.02;
          if (progress > 1) {
            particle.remove();
            return;
          }

          const point = path.getPointAtLength(pathLength * progress);
          particle.style.left = point.x + "px";
          particle.style.top = point.y + "px";
          requestAnimationFrame(animate);
        };
        animate();
      }

      // Scroll progress indicator
      function updateScrollProgress() {
        const scrollTop = window.pageYOffset;
        const docHeight =
          document.documentElement.scrollHeight - window.innerHeight;
        const scrollPercent = (scrollTop / docHeight) * 100;
        document.getElementById("scrollProgress").style.width =
          scrollPercent + "%";
      }

      // Intersection Observer for fade-in animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -100px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");

            // Start workflow animation when workflow section is visible
            if (entry.target.id === "act-workflow" && !workflowAnimation) {
              setTimeout(() => animateWorkflow(), 500);
            }
          }
        });
      }, observerOptions);

      // Observe all fade-in elements and sections
      document.querySelectorAll(".fade-in, section").forEach((el) => {
        observer.observe(el);
      });

      // Event listeners
      window.addEventListener("scroll", () => {
        updateScrollProgress();
      });

      // Initialize on load
      window.addEventListener("load", () => {
        createNoiseParticles();
        initLivingString(); // Initialize interactive NEXUS string
        createMCPNodes(); // Fallback static nodes
        updateScrollProgress();

        // Trigger initial fade-ins
        setTimeout(() => {
          document.querySelectorAll(".fade-in").forEach((el, index) => {
            setTimeout(() => {
              el.classList.add("visible");
            }, index * 100);
          });
        }, 500);
      });
    </script>
  </body>
</html>
