/**
 * [COMPONENT_NAME] Component - Layer 3 Functional Component
 *
 * Enterprise functional component using [LIBRARY_NAME].
 * NO Radix UI - uses React-first headless library.
 *
 * @module [COMPONENT_NAME]
 * @layer 3
 * @category [CATEGORY]
 * @library [LIBRARY_NAME]
 * @mcp-validated true
 * @wcag-compliant AA/AAA
 */

'use client'

import * as React from 'react'

// ============================================================================
// ðŸŽ¯ STEP 1: Import headless library (NOT Radix)
// ============================================================================
// For Data Tables: import { useReactTable, getCoreRowModel } from '@tanstack/react-table'
// For Charts: import { LineChart, Line, XAxis, YAxis } from 'recharts'
// For Graphs: import { ReactFlow, useNodesState, useEdgesState } from 'reactflow'
// For Editors: import { useEditor, EditorContent } from '@tiptap/react'

// ============================================================================
// ðŸŽ¯ STEP 2: Import design tokens (MANDATORY - no raw colors)
// ============================================================================
import {
  colorTokens,
  radiusTokens,
  shadowTokens,
  spacingTokens,
  typographyTokens,
} from '../../../../design/tokens/tokens'
import { cn } from '../../../../design/utilities/cn'

// ============================================================================
// ðŸŽ¯ STEP 3: Import types
// ============================================================================
import type { [COMPONENT_NAME]Props } from './[COMPONENT_NAME_LOWER].types'

// ============================================================================
// ðŸŽ¯ STEP 4: Define variant system (token-based only)
// ============================================================================
const [COMPONENT_NAME_LOWER]Variants = {
  base: [
    'relative',
    'w-full',
    colorTokens.bgElevated,
    colorTokens.fg,
    radiusTokens.lg,
    'mcp-functional-component',
  ].join(' '),
  
  variants: {
    size: {
      sm: [spacingTokens.sm, typographyTokens.sm].join(' '),
      md: [spacingTokens.md, typographyTokens.base].join(' '),
      lg: [spacingTokens.lg, typographyTokens.lg].join(' '),
    },
    variant: {
      default: [colorTokens.bgElevated, colorTokens.border].join(' '),
      bordered: [`border ${colorTokens.border}`, shadowTokens.sm].join(' '),
      elevated: [colorTokens.bgElevated, shadowTokens.md].join(' '),
    },
  },
}

// ============================================================================
// ðŸŽ¯ STEP 5: Main Component Implementation
// ============================================================================
export const [COMPONENT_NAME] = React.forwardRef<
  HTMLDivElement,
  [COMPONENT_NAME]Props
>(
  (
    {
      className,
      size = 'md',
      variant = 'default',
      testId,
      // Library-specific props
      data,
      columns,
      ...props
    },
    ref
  ) => {
    // ========================================================================
    // ðŸŽ¯ STEP 6: Initialize headless library hook
    // ========================================================================
    // Example for TanStack Table:
    // const table = useReactTable({
    //   data,
    //   columns,
    //   getCoreRowModel: getCoreRowModel(),
    // })

    // ========================================================================
    // ðŸŽ¯ STEP 7: Build accessibility props (MANDATORY)
    // ========================================================================
    const accessibilityProps = {
      'data-testid': testId,
      'data-mcp-validated': 'true',
      'data-constitution-compliant': 'layer3-functional',
      'data-layer': '3',
      'data-library': '[LIBRARY_NAME]',
      // ARIA roles for data components
      role: 'region',
      'aria-label': '[COMPONENT_NAME] component',
    }

    // ========================================================================
    // ðŸŽ¯ STEP 8: Render with token-based styling
    // ========================================================================
    return (
      <div
        ref={ref}
        className={cn(
          [COMPONENT_NAME_LOWER]Variants.base,
          [COMPONENT_NAME_LOWER]Variants.variants.size[size],
          [COMPONENT_NAME_LOWER]Variants.variants.variant[variant],
          className
        )}
        {...accessibilityProps}
        {...props}
      >
        {/* 
          ðŸŽ¯ STEP 9: Implement library-specific rendering
          
          For Tables:
          <table className={cn(colorTokens.bgElevated, 'w-full')}>
            <thead>...</thead>
            <tbody>...</tbody>
          </table>
          
          For Charts:
          <LineChart data={data} style={{ color: 'var(--color-primary)' }}>
            <Line stroke="var(--color-primary)" />
          </LineChart>
          
          For Graphs:
          <ReactFlow nodes={nodes} edges={edges} />
        */}
        
        {/* Placeholder - replace with actual implementation */}
        <div className="p-4 text-center text-muted-foreground">
          [COMPONENT_NAME] - Layer 3 Functional Component
        </div>
      </div>
    )
  }
)

[COMPONENT_NAME].displayName = '[COMPONENT_NAME]'

// ============================================================================
// ðŸŽ¯ STEP 10: Export types and variants
// ============================================================================
export type { [COMPONENT_NAME]Props }
export { [COMPONENT_NAME_LOWER]Variants }
export default [COMPONENT_NAME]

// ============================================================================
// ðŸŽ¯ LAYER 3 COMPLIANCE CHECKLIST
// ============================================================================
// âœ… 'use client' directive at top
// âœ… NO Radix UI imports (uses headless library)
// âœ… Design tokens used exclusively (no raw colors)
// âœ… forwardRef + displayName required
// âœ… TypeScript interfaces for type safety
// âœ… ARIA roles and accessibility attributes
// âœ… MCP validation markers included
// âœ… Token-based variant system
// âœ… Keyboard navigation support
// âœ… Screen reader compatibility
// âœ… WCAG AA/AAA compliance
// âœ… Performance optimized (virtualization if needed)

